#
# Basic testing of different service types
#
version 5

. ${REGRESSDIR}include/regression.conf

interface eth0 myeth0
	policy deny

interface eth1 myeth1
	policy deny

interface eth2 myeth2
	policy deny

interface eth3 myeth3
	policy deny

interface eth4 myeth4
	policy deny

router e0toe1 inface eth0 outface eth1
	ipv4 client tftp accept src not "10.0.0.1"
	ipv4 client ssh accept src not "10.0.0.1"
if ipv6_capable; then
	ipv6 client tftp accept src not "::10.0.0.1"
	ipv6 client ssh accept src not "::10.0.0.1"
fi

router e1toe2 inface eth1 outface eth2
	policy deny
	ipv4 server tftp accept src not "10.0.0.2"
	ipv4 server ssh accept src not "10.0.0.2"
if ipv6_capable; then
	ipv6 server tftp accept src not "::10.0.0.2"
	ipv6 server ssh accept src not "::10.0.0.2"
fi

router e2toe3 inface eth2 outface eth3
	policy deny
	ipv4 client eserver accept src not "10.0.0.3"
	ipv4 client hylafax accept src not "10.0.0.3"
if ipv6_capable; then
	ipv6 client eserver accept src not "::10.0.0.3"
	ipv6 client hylafax accept src not "::10.0.0.3"
fi

router e3toe4 inface eth3 outface eth4
	policy deny
	ipv4 server eserver accept src not "10.0.0.4"
	ipv4 server hylafax accept src not "10.0.0.4"
if ipv6_capable; then
	ipv6 server eserver accept src not "::10.0.0.4"
	ipv6 server hylafax accept src not "::10.0.0.4"
fi
