#
# This test demonstrates allowing the IPv6 Neighbor Discovery Protocol
# which is required for correct operation of IPv6.
#   https://en.wikipedia.org/wiki/Neighbor_Discovery_Protocol
#

. ${REGRESSDIR}include/regression.conf

interface eth0 myeth0
	policy deny
	protection strong

if ipv6_capable; then
	# Needed to communicate on local network
	ipv6 client ipv6neigh accept
	ipv6 server ipv6neigh accept

	# Needed to pick up router announcements
	ipv6 client ipv6router accept

	# Needed to send aanouncements if we are an IPv6 router
	ipv6 server ipv6router accept
fi

router e2toe3 inface eth2 outface eth3
if ipv6_capable; then
	# Do not do this unless you are a bridge!
	ipv6 client ipv6neigh accept
	ipv6 server ipv6neigh accept
	ipv6 client ipv6router accept
	ipv6 server ipv6router accept
fi
