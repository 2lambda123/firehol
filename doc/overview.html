<HTML>
<HEAD>
<link rel="stylesheet" type="text/css" href="css.css">
<TITLE>FireHOL, supported services</TITLE>
</HEAD>

<BODY bgcolor="#FFFFFF">

<center><table border=0 cellpadding=15 cellspacing=20 width="70%">
<tr><td bgcolor="#FFFFFF">
FireHOL has been designed to be:
<ul>
	<li><b>secure</b> (as this is the most important factor for a firewall)</li>
	<li>completely <b>dynamic</b> (to allow you do whatever you like)</li>
	<li>extremely <b>simple</b> to configure, understand, audit, use and alter.</li>
</ul>
<p>
FireHOL has been designed to be a firewall for... <b>humans</b>!
</td></tr>
</table>
</center>

FireHOL has been designed to allow you configure your firewall the same way you think of it.
Consider this example:<p>

<center><table border=0 cellpadding=10 cellspacing=5 width="80%">
<tr bgcolor="black"><th width="60%"><b><font color="white">Your thoughts...</th><th width="40%"><b><font color="white">In FireHOL</th></tr>
<tr><td>	I have a Linux host with two network interfaces.<p>
		<ul>
			<li>The first is <b>eth0</b> that connects to my <b>LAN</b>
			<br>&nbsp;
			</li>
			<li>
			The other is a <b>PPP</b> device that connects to the <b>internet</b>
			<br>&nbsp;
			</li>
		</ul>
		</td>
		<td>
		<b><pre><font color="red">
interface eth0 lan
		
interface ppp+ internet
		</pre>
		</td>
		</tr>
<tr bgcolor="#F0F0F0">
	<td>	To the <b>internet</b> my Linux provides:
		<ul>
			<li>a MAIL server
			<br>&nbsp;
			</li>
			<li>a WEB server
			<br>&nbsp;
			</li>
			<li>a FTP server
			<br>&nbsp;
			</li>
			<li>a SSH server, but only for my office computer
			<br>&nbsp;
			</li>
		</ul>
		</td>
		<td>
		<b><font color="gray"><pre>
<font color="red">office="my-office-pc.example.com"</font>

interface eth0 lan

interface ppp+ internet<font color="red">
	server smtp accept
	server http accept
	server ftp  accept
	server ssh  accept src $office
		</pre>
		</td>
		</tr>
<tr>
	<td>	My Linux is also a workstation, I want to run any client I wish.
		</td>
		<td>
		<b><font color="gray"><pre>
office="my-office-pc.example.com"

interface eth0 lan

interface ppp+ internet
	server smtp accept
	server http accept
	server ftp  accept
	server ssh  accept src "$office"
	<font color="red">
	client all  accept
		</pre>
		</td>
		</tr>
<tr bgcolor="#F0F0F0">
	<td>	My <b>LAN</b> is trusted.<p>
		If a server is running on my Linux I want my LAN PCs to use it.
		</td>
		<td>
		<b><font color="gray"><pre>
office="my-office-pc.example.com"

interface eth0 lan<font color="red">
	policy accept</font>
	
interface ppp+ internet
	server smtp accept
	server http accept
	server ftp  accept
	server ssh  accept src "$office"
	
	client all  accept
		</pre>
		</td>
		</tr>
<tr>
	<td>	I would like my <b>LAN</b> PCs to use this Linux as a gateway
		for connecting, as clients, to the <b>internet</b> for all the services
		they wish.
		</td>
		<td>
		<b><font color="gray"><pre>
office="my-office-pc.example.com"

interface eth0 lan
	policy accept
	
interface ppp+ internet
	server smtp accept
	server http accept
	server ftp  accept
	server ssh  accept src "$office"
	
	client all  accept
	<font color="red">
router lan2internet inface eth0 outface ppp+
	route all  accept
		</pre>
		</td>
		</tr>
<tr bgcolor="#F0F0F0">
	<td>	My LAN PCs have private IPs, unroutable to the Internet.<p>
		I need to masquerade somehow their IP addresses for internet access.
		</td>
		<td>
		<b><font color="gray"><pre>
office="my-office-pc.example.com"

interface eth0 lan
	policy accept
	
interface ppp+ internet
	server smtp accept
	server http accept
	server ftp  accept
	server ssh  accept src "$office"
	
	client all  accept
	
router lan2internet inface eth0 outface ppp+
	<font color="red">masquerade</font>
	route all  accept
		</pre>
		</td>
		</tr>
</table>
</center>
<p>
<b><u>This is it!</u></b> The firewall is ready. I hope you have noticed that all the rules given match just one direction of the traffic: <b>the request</b>.
They don't say anything about replies (see for example the <b>src</b>, <b>inface</b> or <b>outface</b> parameters). This is because FireHOL handles the replies
automatically. You don't have to do anything about them: If a request is allowed, then the corresponding reply is also allowed.
This also means that FireHOL produces the iptables statements to exactly match what is allowed <b>in both directions</b> and nothing more. If for example we remove the <b>client all accept</b>
from the <b>internet</b> interface, our Linux will not be able to do anything with its PPP device execpt to send replies matching the <b>server</b> statements within this interface;
no pings, no DNS, no web browsing, no nothing!
<p>
The complete configuration file (a little bit enriched) of the above example could be (all FireHOL directives are clickable):

<center><table border=0 cellpadding=15 cellspacing=20 width="70%">
<tr><td bgcolor="#F0F0F0">
<b><pre>
	<font color="gray"># Require release 5 of FireHOL configuration directives</font>
	<a href="commands.html#version">version</a> 5
	
	<font color="gray"># A space separated list of all the IPs on the internet, I trust</font>
	office="my-office-pc.example.com"
	
	<font color="gray"># The IP address of this Linux and LAN for the rest of the world</font>
	public_ip="1.2.3.4"
	
	
	<font color="gray"># My LAN. Everything is allowed here.</font>
	<a href="commands.html#interface">interface</a> eth0 lan
		<a href="commands.html#policy">policy</a> accept	<font color="gray"># The default is 'drop'.</font>
	
	
	<font color="gray"># Make sure the traffic comming in, comes from valid Internet IPs,
	# and that is targeting my public IP</font>
	<a href="commands.html#interface">interface</a> ppp+ internet <a href="commands.html#src">src</a> not "$<a href="commands.html#UNROUTABLE_IPS">UNROUTABLE_IPS</a>" <a href="commands.html#dst">dst</a> "$public_ip"
		<font color="gray"># Protect me from various kinds of attacks.</font>
		<a href="commands.html#protection">protection</a> strong
		
		<font color="gray"># Public servers.</font>
		<a href="commands.html#server">server</a> <a href="services.html#smtp">smtp</a> accept
		<a href="commands.html#server">server</a> <a href="services.html#http">http</a> accept
		<a href="commands.html#server">server</a> <a href="services.html#ftp">ftp</a>  accept
		<a href="commands.html#server">server</a> <a href="services.html#ssh">ssh</a>  accept <a href="commands.html#src">src</a> "$office"
		
		<font color="gray"># Make sure idents do not timeout.</font>
		<a href="commands.html#server">server</a> <a href="services.html#ident">ident</a> reject
		
		<font color="gray"># This is also a workstation.</font>
		<a href="commands.html#client">client</a> <a href="services.html#all">all</a>  accept
		
	
	<font color="gray"># Route the LAN requests to the internet.</font>
	<a href="commands.html#router">router</a> lan2internet <a href="commands.html#inface">inface</a> eth0 <a href="commands.html#outface">outface</a> ppp+
		
		<font color="gray"># Masquerading on outface.</font>
		<a href="commands.html#masquerade">masquerade</a>
		
		<font color="gray"># Route all requests from inface to outface
		# and their replies back.</font>
		<a href="commands.html#route">route</a> <a href="services.html#all">all</a>  accept
</pre></b>
</td></tr>
</table>
</center>

FireHOL is <b>secure</b> because it has been designed with the right firewalling concept: <b>deny everything, then allow only what is
needed</b>. FireHOL is secure because it produces <b>stateful</b> iptables packet filtering
firewalls (and possibly, the only generic tool today that does that). Stateful, means that you can have control based on who initiated the traffic. For example: you can choose to be able to
ping anyone on the internet, but no one to be able to ping you.
<br>
If for example you don't need to run a server on your Linux host, you can easily achieve a situation where you are
able to do anything to anyone, but as far as the rest of world is concerned, <b>you do not exist</b>!
<p>
FireHOL is completely <b>dynamic</b>, since with its <a href="language.html">language</a> you can describe any firewall
configuration you wish using simple <a href="commands.html">commands</a>.
<p>
<table border=0 cellpadding=10 cellspacing=0 width="100%">
<tr><td bgcolor="#EEEEEE"><b>Why?</td></tr></table>
<br>
As an IT executive, responsible for many dozens of Linux systems, I 
needed a firewalling solution that would allow me and my team to have a 
clear and simple view of what is happening on each server, as far as 
firewalling is concerned. I also needed a solution that will allow my 
team members to produce high quality and homogeneous firewalls 
independently of their security skills and knowledge. After searching 
for such a tool, I quickly concluded that no tool is flexible, open, 
easy, and simple enough for what I needed.</p>
<p>I decided to write FireHOL in a way that will allow me, or anyone 
else, to view, verify and audit the firewall of any linux server or 
linux router <b>in seconds</b>. FireHOL's configuration is extremely 
simple... you don't have to be an expert to design a complicated but 
secure firewall.

<p>
<table border=0 cellpadding=10 cellspacing=0 width="100%">
<tr><td bgcolor="#EEEEEE"><b>What features does it have?</td></tr></table>
<br>
FireHOL handles firewalls protecting one host on all its interfaces 
and any combination of stateful firewalls routing traffic from one 
interface to another. There are no limitations on the number of 
interfaces or on the number of routing routes (except the ones iptables 
has, if any).
<p>FireHOL, still lacks a few features: SNAT and DNAT are not supported. 
PREROUTING and MANGLING are not supported either. QoS, although not 
iptables stuff, is missing too. You are welcome to extend FireHOL and 
send me your patches to integrate within FireHOL.</p>

<p>Note however that you can embed normal iptables commands in a FireHOL 
configuration script for NATing, REDIRECTing ports, etc.</p>

<p>
Since FireHOL produces stateful commands, for every supported service 
it needs to know the flow of requests and replies. Today FireHOL 
supports the following services:</p>
<ul>
  <li>Many single socket protocols, such as HTTP, NNTP, SMTP, POP3, 
  IMAP4, RADIUS, SSH, LDAP, MySQL, Telnet, NTP, DNS, etc.
  There are a few dozens of such services defined in FireHOL. Check <a href="services.html">this list.</a>
  Even if something is missing, you can <a href="adding.html">define it</a>.<br>
</ul>
<ul>
  <li>Many complex protocols, such as FTP, NFS, SAMBA, PPTP, etc. 
  If you need some complex protocol that is not present, you will have 
  to program it (in simple BASH scripting - there are many commented 
  examples on how this is done). Again, you will just create one BASH 
  function with the rules of the protocol, and FireHOL will turn it to
  a client, a server or a router.</li>
</ul>


<p>
<hr noshade size=1>
<table border=0 width="100%">
<tr><td align=center valign=middle>
	<A href="http://sourceforge.net"><IMG src="http://sourceforge.net/sflogo.php?group_id=58425&amp;type=5" width="210" height="62" border="0" alt="SourceForge Logo"></A>
</td><td align=center valign=middle>
	<small>$Id: overview.html,v 1.13 2002/12/24 02:36:34 ktsaou Exp $</small>
	<p>
	<b>FireHOL</b>, a firewall for humans...<br>
	&copy; Copyright 2002
	Costa Tsaousis <a href="mailto: costa@tsaousis.gr">&lt;costa@tsaousis.gr&gt</a>
</body>
</html>
