<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<link rel="stylesheet" type="text/css" href="css.css">
<TITLE>FireHOL, a Linux iptables packet filtering firewall builder for humans...</TITLE>
<meta name="author" content="Costa Tsaousis">
<meta name="description" content="

Home for FireHOL, an iptables stateful packet filtering firewall builder for Linux (kernel 2.4),
supporting NAT, SNAT, DNAT, REDIRECT, MASQUERADE, DMZ, dual-homed, multi-homed and router setups,
protecting and securing hosts and LANs in all kinds of topologies. Configuration is done using
simple client and server statements while it can detect (and produce) its configuration
automatically. FireHOL is extremely easy to understand, configure and audit.

">

<meta name="keywords" content="iptables, netfilter, filter, firewall, stateful, port, secure, security, NAT, DMZ, DNAT, DSL, SNAT, redirect, router, rule, rules, automated, bash, block, builder, cable, complex, configuration, dual-homed, easy, easy configuration, example, fast, features, flexible, forward, free, gpl, helpme mode, human, intuitive, language, linux, masquerade, modem, multi-homed, open source, packet, panic mode, protect, script, service, system administration, wizard">
<meta http-equiv="Expires" content="Wed, 19 Mar 2003 00:00:01 GMT">
</HEAD>

<BODY bgcolor="#FFFFFF">

<center>
<script type="text/javascript"><!--
google_ad_client = "pub-4254040714325099";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_channel ="";
google_page_url = document.location;
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_url = "008000";
google_color_text = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center>

<table border=0 cellpadding=10 cellspacing=0 width="100%">
<tr>
<td width="60%" valign=top>

<!-- -------------- START OF NEWS ------------------ -->

<table border=0 cellpadding=10 cellspacing=0 width="100%">
<tr><td bgcolor="#EEEEEE"><b>Latest News</td></tr></table>
<br>
<b>Nov 1, 2004</b>, FireHOL R5 v1.214 released.<br>
<font color="#555555">
This is a major release which includes several updates and fixes.
<p>
<b>All users are advised to update to this version.</b>
<p>
This release includes new service definitions:
<a href="services.html#nis">NIS</a>,
<a href="services.html#nut">NUT</a>,
<a href="services.html#nntps">NNTPS</a>,
<a href="services.html#asterisk">ASTERISK</a>,
<a href="services.html#darkstat">DARKSTAT</a>,
<a href="services.html#distcc">DISTCC</a>,
<a href="services.html#eserver">ESERVER</a>,
<a href="services.html#gift">GIFT</a>,
<a href="services.html#giftui">GIFTUI</a>,
<a href="services.html#h323">H323</a>,
<a href="services.html#iax">IAX</a>,
<a href="services.html#iax2">IAX2</a>,
<a href="services.html#icp">ICP</a>,
<a href="services.html#rtp">RTP</a>,
<a href="services.html#sip">SIP</a>,
<a href="services.html#stun">STUN</a>,
<a href="services.html#upnp">UPNP</a>,
<a href="services.html#rdp">RDP</a>,
<a href="services.html#nxserver">NXSERVER</a>,
<a href="services.html#radiusproxy">RADIUSPROXY</a>,
<a href="services.html#radiusoldproxy">RADIUSOLDPROXY</a>.
The following service definitions have been updated:
<a href="services.html#dhcp">DHCP</a>,
<a href="services.html#samba">SAMBA</a>,
<a href="services.html#nfs">NFS</a>.
The following helpers have been added:
<a href="commands.html#tos">TOS</a>,
<a href="commands.html#dscp">DSCP</a>,
<a href="commands.html#tcpmss">TCPMSS</a>,
<a href="commands.html#ecn_shame">ECN_SHAME</a>.
The following optional rule parameters have been added:
<a href="commands.html#tos_param">TOS</a>,
<a href="commands.html#mark_param">MARK</a>,
<a href="commands.html#dscp_param">DSCP</a>.
Added support for automatic installation of
service definitions with third party packages, in
<a href="adding.html#distributed">/etc/firehol/services/</a>.
Also, FireHOL now has improved interoperability with various
Linux distributions, including BASH 3.x, updated <a href="commands.html#RESERVED_IPS">RESERVED_IPS</a>
for current IANA IPv4 reservations, finer control on <a href="commands.html#accept">ACCEPT</a>ed
services to allow controllable requests per second, the
ability to <a href="commands.html#FIREHOL_TRUST_LOOPBACK">control loopback traffic</a> and support for service
<a href="commands.html#group_cmd">groups</a>.
</font>
<p>

<hr noshade>

<b>2003-2004</b> FireHOL remains as one of the BEST RATED open source applications.<br>
<font color="#555555">
FireHOL is ranked in <b>TOP 20 BEST RATED</b> of <a href="http://freshmeat.net">FreshMeat II</a>.
See the current <b>rating rank</b> at <a href="http://freshmeat.net/projects/firehol/">FireHOL's FreshMeat page</a>
(note that this page changes dynamically, so the rating might have changed).
<br>
I really thank you all for this...
<p>
Are you using FireHOL too? Tell us your opinion: rate it <a href="http://freshmeat.net/rate/30942/">here</a>.
</font>
<p>

<hr noshade>

<b>May 3, 2004</b>, Latest CVS tarballs available.<br>
<font color="#555555">
You can download a nightly-build CVS version of FireHOL at <a href="http://firehol.sf.net/firehol.tar.gz">http://firehol.sf.net/firehol.tar.gz</a>
<br>Although I try to keep CVS versions fully operational, please keep in mind that this CVS version might have bugs.
<p>
You can always see what has changed using 
<a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/firehol/firehol/firehol.sh">FireHOL's WebCVS Change Log viewer</a>.
</font>
<p>
</td>

<!-- -------------- END OF NEWS ------------------ -->

<td width="40%" valign=top>
<table border=0 cellpadding=10 cellspacing=0 width="100%">
<tr><td bgcolor="#EEEEEE"><b>Testimonials</td></tr></table>
<small>

<b>Date:</b> Wed, July 7, 2004 03:55
<p>
<font color="#333333">
I want to thank you for making such a brilliant firewall configuration tool.
I have just finished configuring a firewall with 5 ethernets (two office LANs,
two DMZs and one ISP upstream with aliased IPs) for two companies with a
shared broadband internet connection, and it works perfectly.
<p>
I still marvel at the shortness and simplicity of your configuration language
contrasted against the completeness and tightness of the fully stateful
iptables rules!
<p>
Brian Hoy
<p>
</font>

<hr noshade>

<b>Date:</b> Fri, October 31, 2003 21:39
<p>
<font color="#333333">
After six hours of nothing but trouble, frustration and desperation with
fwbuilder, I installed FireHOL and within minutes I got everything to work
as desired. Once more: why making things complicate, when you can make it
easy. Thanks a lot.
<p>
cassielix
<p>
</font>

<hr noshade>

<b>Date:</b> Sat, September 27, 2003 19:23
<p>
<font color="#333333">
Hello, I just wanted to thank you for making FireHOL.  Explaining firewalls
to my girlfriend is, well, a tough thing to do.  After getting your 
script configured
and our new DSL connection working, she said "Wow that was fast", then
the inevitable "What did you do?".  I showed her the short script and she
read it like it was english.  I can't stop smiling.
<p>
Erik Peterson
<p>
</font>

<hr noshade>

<b>Date:</b> Thu, July 31, 2003 23:52
<p>
<font color="#333333">
Just wanted to drop you a quick note to let
you know that I just installed FireHOL 1.120
on my Linux router/firewall, and it worked like
a champ!
<p>
Super-easy (your example on the FireHOL web page
is a perfect starting point for setups like mine,
which is a single PC doing NAT/MASQ and firewalling
over DSL for an internal LAN) and much more
effective than my old stateless firewall that
it replaced (which wouldn't even let me ftp without
shutting it down).
<p>
Just wanted to say thanks for a job well done, and
for making your work available to the rest of us!
<p>
Scott Taylor<br>
ALVE Technology Corporation<br>
</font>
</td>
</tr>
</table>
<p>

<table border=0 cellpadding=10 cellspacing=0 width="100%">
<tr><td bgcolor="#EEEEEE"><b>What is FireHOL?</td></tr></table>
<br>
FireHOL is... firewalling made easy:
<br>
<center><table border=0 cellpadding=15 cellspacing=20 width="70%">
<tr><td bgcolor="#F0F0F0">
<b><pre>
	<a href="commands.html#transparent_squid">transparent_squid</a> 8080 "squid root" <a href="commands.html#inface">inface</a> eth0
	
	<a href="commands.html#interface">interface</a> eth0 mylan
		<a href="commands.html#policy">policy</a> accept
	
	<a href="commands.html#interface">interface</a> ppp+ internet
		<a href="commands.html#server">server</a> <a href="services.html#smtp">smtp</a> accept
		<a href="commands.html#server">server</a> <a href="services.html#http">http</a> accept
		<a href="commands.html#server">server</a> <a href="services.html#ftp">ftp</a>  accept
		<a href="commands.html#server">server</a> <a href="services.html#ssh">ssh</a>  accept <a href="commands.html#src">src</a> trusted.example.com
		
		<a href="commands.html#client">client</a> <a href="services.html#all">all</a>  accept
		
	<a href="commands.html#router">router</a> mylan2internet <a href="commands.html#inface">inface</a> eth0 <a href="commands.html#outface">outface</a> ppp+
		<a href="commands.html#masquerade">masquerade</a>
		<a href="commands.html#route">route</a> <a href="services.html#all">all</a>  accept
</pre></b>
</td></tr>
</table>
</center>

FireHOL is an iptables firewall generator producing stateful iptables packet filtering firewalls, on Linux hosts and routers
with any number of network interfaces, any number of routes, any number of services served, any number of complexity
between variations of the services (including positive and negative expressions).
<p>
FireHOL is a <b>language to express firewalling rules</b>, not just a script that produces some kind of a firewall.
<p>
The goals of FireHOL are:
<ul>
	<li>Make firewalling an easy, straight forward task for everyone, independently of the security skills he/she has.
	<br>FireHOL configuration files are very easy to type and read. To understand a complex firewall you will need
	just a few seconds.
	<br>Take a look bellow for an example configuration.
	<br>&nbsp;
	</li>
	<li>Be as secure as possible by allowing explicitly only the wanted traffic to flow.
	<br>FireHOL produces <b>stateful</b> rules for any service or protocol, <b>in both directions</b> of the firewall.
	<br>&nbsp;
	</li>
	<li>Be a resource of knowledge around services and their peculiarities, as far as firewalling is concerned.
	<br>Check the <a href="services.html">services</a> list.
	<br>&nbsp;
	</li>
	<li>Be open enough for any firewalling need. Although FireHOL is pre-configured for a large number of services, you
	can configure any service you like and FireHOL will turn it into a <b>client</b>, a <b>server</b>, or a <b>router</b>.
	<br>&nbsp;
	</li>
	<li>Be flexible enough to be used by end users and guru administrators requiring extremely complex firewalls.
	<br>FireHOL configuration files are BASH scripts; you can write in them anything BASH accepts, including variables,
	pipes, loops, conditions, calls to external programs, run other BASH scripts with FireHOL directives in them, etc.
	<br>&nbsp;
	</li>
	<li>Be simple to install on any modern Linux system; only one file is required, no compilations involved.
	<br>&nbsp;
	</li>
</ul>

<table border=0 cellpadding=10 cellspacing=0 width="100%">
<tr><td bgcolor="#EEEEEE"><b>Is it secure?</td></tr></table>
<br>
FireHOL is <b>secure</b> because it has been designed with the right firewalling concept: <b>deny everything,
then allow only what is needed</b>.
<p>
Also, FireHOL produces <b>stateful</b> iptables packet filtering firewalls (and possibly, the only generic tool today that
does that for all services in both directions of the firewall).
<p>
Stateful means that traffic allowed to pass is part of a valid connection that has been initiated the right way.
Stateful also means that you can have control based on
who initiated the traffic. For example: you can choose to be able to ping anyone on the internet, but no one to be able
to ping you. If for example you don't need to run a server on your Linux host, you can easily achieve a situation where
you are able to do anything to anyone, but as far as the rest of world is concerned, <b>you do not exist</b>!
<p>

<table border=0 cellpadding=10 cellspacing=0 width="100%">
<tr><td bgcolor="#EEEEEE"><b>Learn another language?</td></tr></table>
<br>
FireHOL has been designed to allow you configure your firewall the same way you think of it.
Its language is extremely simple. Basically you have to learn four commands:
<ul>
	<li><a href="commands.html#interface">interface</a>, to setup a firewall on a network interface
	<br>&nbsp;
	</li>
	<li><a href="commands.html#router">router</a>, to setup a firewall on traffic routed from one network interface to another
	<br>&nbsp;
	</li>
	<li><a href="commands.html#server">server</a>, to setup a listening service within an interface or router.
	The same command can be used as <a href="commands.html#route">route</a> within routers.
	<br>&nbsp;
	</li>
	<li><a href="commands.html#client">client</a>, to setup a service client within an interface or router
	<br>&nbsp;
	</li>
</ul>
<b>Client</b> and <b>server</b> commands have exactly the same syntax.
<b>Interface</b> has two mandatory arguments and <b>router</b> has only one (and this is the same with one of the two <b>interface</b> requires).
All the <a href="commands.html#parameters">optional parameters</a> are the same to all of them. This sounds like just one command
is to be learned...
<p>
Of course there are a <a href="commands.html">few more commands</a> defined, but all of them exist just to give you finer control on these four.
<p>
If you don't believe it is simple, consider this example:<p>

<center><table border=0 cellpadding=10 cellspacing=5 width="80%">
<tr bgcolor="black"><th width="60%"><b><font color="white">Thoughts...</th><th width="40%"><b><font color="white">In FireHOL</th></tr>
<tr><td>	I have a Linux host with two network interfaces.<p>
		<ul>
			<li>The first is <b>eth0</b> that connects to my <b>LAN</b>
			<br>&nbsp;
			</li>
			<li>
			The other is a <b>PPP</b> device that connects to the <b>internet</b>
			<br>&nbsp;
			</li>
		</ul>
		</td>
		<td>
		<b><pre><font color="red">
interface eth0 lan
		
interface ppp+ internet
		</pre>
		</td>
		</tr>
<tr bgcolor="#F0F0F0">
	<td>	To the <b>internet</b> my Linux provides:
		<ul>
			<li>a MAIL server
			<br>&nbsp;
			</li>
			<li>a WEB server
			<br>&nbsp;
			</li>
			<li>a FTP server
			<br>&nbsp;
			</li>
			<li>a SSH server, but only for my office computer
			<br>&nbsp;
			</li>
		</ul>
		</td>
		<td>
		<b><font color="gray"><pre>
<font color="red">office="my-office-pc.example.com"</font>

interface eth0 lan

interface ppp+ internet<font color="red">
	server smtp accept
	server http accept
	server ftp  accept
	server ssh  accept src $office
		</pre>
		</td>
		</tr>
<tr>
	<td>	My Linux is also a workstation, I want to run any client I wish.
		</td>
		<td>
		<b><font color="gray"><pre>
office="my-office-pc.example.com"

interface eth0 lan

interface ppp+ internet
	server smtp accept
	server http accept
	server ftp  accept
	server ssh  accept src "$office"
	<font color="red">
	client all  accept
		</pre>
		</td>
		</tr>
<tr bgcolor="#F0F0F0">
	<td>	My <b>LAN</b> is trusted.<p>
		If a server is running on my Linux I want my LAN PCs to use it.
		</td>
		<td>
		<b><font color="gray"><pre>
office="my-office-pc.example.com"

interface eth0 lan<font color="red">
	policy accept</font>
	
interface ppp+ internet
	server smtp accept
	server http accept
	server ftp  accept
	server ssh  accept src "$office"
	
	client all  accept
		</pre>
		</td>
		</tr>
<tr>
	<td>	I would like my <b>LAN</b> PCs to use this Linux as a gateway
		for connecting, as clients, to the <b>internet</b> for all the services
		they wish.
		</td>
		<td>
		<b><font color="gray"><pre>
office="my-office-pc.example.com"

interface eth0 lan
	policy accept
	
interface ppp+ internet
	server smtp accept
	server http accept
	server ftp  accept
	server ssh  accept src "$office"
	
	client all  accept
	<font color="red">
router lan2internet inface eth0 outface ppp+
	route all  accept
		</pre>
		</td>
		</tr>
<tr bgcolor="#F0F0F0">
	<td>	My LAN PCs have private IPs, unroutable to the Internet.<p>
		I need to masquerade somehow their IP addresses for internet access.
		</td>
		<td>
		<b><font color="gray"><pre>
office="my-office-pc.example.com"

interface eth0 lan
	policy accept
	
interface ppp+ internet
	server smtp accept
	server http accept
	server ftp  accept
	server ssh  accept src "$office"
	
	client all  accept
	
router lan2internet inface eth0 outface ppp+
	<font color="red">masquerade</font>
	route all  accept
		</pre>
		</td>
		</tr>
</table>
</center>
<p>
<b><u>This is it!</u></b> The firewall is ready. I hope you have noticed that all the rules given match just one direction of the traffic: <b>the request</b>.
They don't say anything about replies (see for example the <b>src</b>, <b>inface</b> or <b>outface</b> parameters). This is because FireHOL handles the replies
automatically. You don't have to do anything about them: If a request is allowed, then the corresponding reply is also allowed.
This also means that FireHOL produces the iptables statements to exactly match what is allowed <b>in both directions</b> and nothing more. If for example we remove the <b>client all accept</b>
from the <b>internet</b> interface, our Linux will not be able to do anything with its PPP device except to send replies matching the <b>server</b> statements within this interface;
no pings, no DNS, no web browsing, no nothing!
<p>
The complete configuration file (a little bit enriched) of the above example could be (all FireHOL directives are clickable):

<center><table border=0 cellpadding=15 cellspacing=20 width="70%">
<tr><td bgcolor="#F0F0F0">
<b><pre>
	<font color="gray"># Require release 5 of FireHOL configuration directives</font>
	<a href="commands.html#version">version</a> 5
	
	<font color="gray"># A space separated list of all the IPs on the internet, I trust</font>
	office="my-office-pc.example.com"
	
	<font color="gray"># The IP address of this Linux and LAN for the rest of the world</font>
	public_ip="1.2.3.4"
	
	
	<font color="gray"># My LAN. Everything is allowed here.</font>
	<a href="commands.html#interface">interface</a> eth0 lan
		<a href="commands.html#policy">policy</a> accept	<font color="gray"># The default is 'drop'.</font>
	
	
	<font color="gray"># Make sure the traffic coming in, comes from valid Internet IPs,
	# and that is targeting my public IP</font>
	<a href="commands.html#interface">interface</a> ppp+ internet <a href="commands.html#src">src</a> not "$<a href="commands.html#UNROUTABLE_IPS">UNROUTABLE_IPS</a>" <a href="commands.html#dst">dst</a> "$public_ip"
		<font color="gray"># Protect me from various kinds of attacks.</font>
		<a href="commands.html#protection">protection</a> strong
		
		<font color="gray"># Public servers.</font>
		<a href="commands.html#server">server</a> <a href="services.html#smtp">smtp</a> accept
		<a href="commands.html#server">server</a> <a href="services.html#http">http</a> accept
		<a href="commands.html#server">server</a> <a href="services.html#ftp">ftp</a>  accept
		<a href="commands.html#server">server</a> <a href="services.html#ssh">ssh</a>  accept <a href="commands.html#src">src</a> "$office"
		
		<font color="gray"># Make sure idents do not timeout.</font>
		<a href="commands.html#server">server</a> <a href="services.html#ident">ident</a> reject <a href="commands.html#with">with</a> tcp-reset
		
		<font color="gray"># This is also a workstation.</font>
		<a href="commands.html#client">client</a> <a href="services.html#all">all</a>  accept
		
	
	<font color="gray"># Route the LAN requests to the internet.</font>
	<a href="commands.html#router">router</a> lan2internet <a href="commands.html#inface">inface</a> eth0 <a href="commands.html#outface">outface</a> ppp+
		
		<font color="gray"># Masquerading on outface.</font>
		<a href="commands.html#masquerade">masquerade</a>
		
		<font color="gray"># Route all requests from inface to outface
		# and their replies back.</font>
		<a href="commands.html#route">route</a> <a href="services.html#all">all</a>  accept
</pre></b>
</td></tr>
</table>
</center>

FireHOL is completely <b>dynamic</b>, since with its <a href="language.html">language</a> you can describe any firewall
configuration you wish using simple <a href="commands.html">commands</a>.
<p>
<table border=0 cellpadding=10 cellspacing=0 width="100%">
<tr><td bgcolor="#EEEEEE"><b>Why?</td></tr></table>
<br>
As an IT executive, responsible for many dozens of Linux systems, I 
needed a firewalling solution that would allow me and my team to have a 
clear and simple view of what is happening on each server, as far as 
firewalling is concerned. I also needed a solution that will allow my 
team members to produce high quality and homogeneous firewalls 
independently of their security skills and knowledge. After searching 
for such a tool, I quickly concluded that no tool is flexible, open, 
easy, and simple enough for what I needed.</p>
<p>I decided to write FireHOL in a way that will allow me, or anyone 
else, to view, verify and audit the firewall of any linux server or 
linux router <b>in seconds</b>. FireHOL's configuration is extremely 
simple... you don't have to be an expert to design a complicated but 
secure firewall.

<p>
<table border=0 cellpadding=10 cellspacing=0 width="100%">
<tr><td bgcolor="#EEEEEE"><b>What features does it have?</td></tr></table>
<br>
FireHOL handles firewalls protecting one host on all its interfaces 
and any combination of stateful firewalls routing traffic from one 
interface to another. There are no limitations on the number of 
interfaces or on the number of routing routes (except the ones iptables 
has, if any).
<p>FireHOL, still lacks a few features: QoS for example is not supported directly.
You are welcome to extend FireHOL and send me your patches to integrate within FireHOL.
In any case however, you can embed normal iptables commands in a FireHOL
configuration to do whatever iptables supports.</p>

<p>
Since FireHOL produces stateful commands, for every supported service 
it needs to know the flow of requests and replies. Today FireHOL 
supports the following services:</p>
<ul>
  <li>Many single socket protocols, such as HTTP, NNTP, SMTP, POP3, 
  IMAP4, RADIUS, SSH, LDAP, MySQL, Telnet, NTP, DNS, etc.
  There are a few dozens of such services defined in FireHOL. Check <a href="services.html">this list.</a>
  Even if something is missing, you can <a href="adding.html">define it</a>.<br>
</ul>
<ul>
  <li>Many complex protocols, such as FTP, NFS, SAMBA, PPTP, etc. 
  If you need some complex protocol that is not present, you will have 
  to program it (in simple BASH scripting - there are many commented 
  examples on how this is done). Again, you will just create one BASH 
  function with the rules of the protocol, and FireHOL will turn it to
  a client, a server or a router.</li>
</ul>


<p>
<hr noshade size=1>
<table border=0 width="100%">
<tr><td align=center valign=middle>
	<A href="http://sourceforge.net"><IMG src="http://sourceforge.net/sflogo.php?group_id=58425&amp;type=5" width="210" height="62" border="0" alt="SourceForge Logo"></A>
</td><td align=center valign=middle>
	<small>$Id: overview.html,v 1.30 2004/11/01 00:13:02 ktsaou Exp $</small>
	<p>
	<b>FireHOL</b>, a firewall for humans...<br>
	&copy; Copyright 2004
	Costa Tsaousis <a href="mailto: costa@tsaousis.gr">&lt;costa@tsaousis.gr&gt</a>
</body>
</html>
